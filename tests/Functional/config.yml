framework:
    test: ~
    secret: ydslvbxkcen473w89r8qkaponbcyd
    router:
        resource: '%kernel.project_dir%/routes.yml'
        utf8: true

doctrine:
    dbal:
        driver: pdo_sqlite
        memory: true
        charset: UTF8
    orm:
        auto_generate_proxy_classes: "%kernel.debug%"
        naming_strategy: doctrine.orm.naming_strategy.underscore
        auto_mapping: true
        mappings:
            ArxyFilesBundleTestsFunctionalEntity:
                type: annotation
                dir: '%kernel.project_dir%/Entity'
                is_bundle: false
                prefix: Arxy\FilesBundle\Tests\Functional\Entity

flysystem:
    storages:
        in_memory:
            adapter: 'memory'

arxy_files:
    managers:
        public:
            driver: orm
            class: 'Arxy\FilesBundle\Tests\Functional\Entity\File'
            flysystem: 'in_memory'
            naming_strategy: 'Arxy\FilesBundle\NamingStrategy\SplitHashStrategy'
            repository: 'Arxy\FilesBundle\Tests\Functional\Repository\FileRepository'
        embeddable_manager:
            driver: orm
            class: 'Arxy\FilesBundle\Entity\EmbeddableFile'
            flysystem: 'in_memory'
            naming_strategy: 'Arxy\FilesBundle\NamingStrategy\SplitHashStrategy'

services:
    _defaults:
        public: true
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    Arxy\FilesBundle\Tests\Functional\Repository\FileRepository: ~
    Arxy\FilesBundle\NamingStrategy\SplitHashStrategy: ~
    Arxy\FilesBundle\LiipImagine\FileFilterPathResolver: ~

liip_imagine:
    driver: "gd"
    loaders:
        default:
            flysystem:
                filesystem_service: 'in_memory'
    data_loader: default
    resolvers:
        default:
            web_path: ~
    filter_sets:
        thumbnail:
            quality: 75
            filters:
                thumbnail: {size: [120, 90], mode: outbound}
                background: {size: [124, 94], position: center, color: '#000000'}